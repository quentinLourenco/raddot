{% extends 'base.html' %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'discover.css' %}">
<link rel="stylesheet" href="{% static 'subraddot_card.css' %}">
<link rel="stylesheet" href="{% static 'subraddot_card_list.css' %}">
{% endblock %}

{% block content %}
<div class="discover-container">
    <h2>Découvrir des subraddots</h2>
    <p class="discover-description">Explorez de nouvelles communautés ou retrouvez celles que vous connaissez déjà.</p>

    <form method="get" class="discover-search-form" style="margin-bottom: 24px;">
        <input 
            type="text" 
            name="q" 
            placeholder="Rechercher un subraddot..." 
            value="{{ request.GET.q|default_if_none:'' }}" 
            style="padding: 8px; width: 300px; border-radius: 4px; border: 1px solid #ccc;"
        >
        <button type="submit" style="padding: 8px 16px; border-radius: 4px; border: none; background: #ff4500; color: #fff;">Rechercher</button>
        {% if filter %}
            <input type="hidden" name="filter" value="{{ filter }}">
        {% endif %}
    </form>

    {% include "social_app/components/subraddot_card_list.html" with subraddots=subraddots filter=filter %}
</div>
{% endblock %}
